       IDENTIFICATION DIVISION.
       PROGRAM-ID. SMOKE-FILE.
       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TEST-FILE ASSIGN TO "SMOKE-FILE.DAT"
             ORGANIZATION IS LINE SEQUENTIAL.
       DATA DIVISION.
       FILE SECTION.
       FD TEST-FILE.
       01 TEST-RECORD PIC X(20).
       WORKING-STORAGE SECTION.
       01 WS-RECORD PIC X(20).
       01 WS-EOF PIC 9 VALUE 0.
       PROCEDURE DIVISION.
           OPEN OUTPUT TEST-FILE.
           MOVE "HELLO FILE IO" TO TEST-RECORD.
           WRITE TEST-RECORD.
           CLOSE TEST-FILE.

           OPEN INPUT TEST-FILE.
           READ TEST-FILE INTO WS-RECORD
             AT END MOVE 1 TO WS-EOF
           END-READ.
           CLOSE TEST-FILE.

           IF WS-RECORD(1:13) = "HELLO FILE IO"
               DISPLAY "PASS"
           ELSE
               DISPLAY "FAIL"
           END-IF.
           STOP RUN.
